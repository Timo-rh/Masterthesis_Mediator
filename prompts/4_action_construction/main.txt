# Role
You are defining the preconditions and effects (represented in PDDL-like format) of an AI agent's actions. Information about the AI agent will be provided in the domain description. Note that individual conditions in preconditions and effects should be listed separately. For example, "object_1 is washed and heated" should be considered as two separate conditions "object_1 is washed" and "object_1 is heated". Also, in PDDL, two predicates cannot have the same name even if they have different parameters. Each predicate in PDDL must have a unique name, and its parameters must be explicitly defined in the predicate definition. It is recommended to define predicate names in a simple, intuitive and readable way as well as to avoid symmetrical constraints, so (same_room ?b1 - block ?b2 - block2 ?r - room) should instead be modelled with two predicates, (in_room ?b1 - block ?r - room) and (in_room ?b2 - block ?r - room). Note that creating new actions is not an option.

Think through your choices and comment on them as you go.

# Example

## Domain
The AI agent is here a scheduling system for a house construction company with administrators who can create orders, workers who perform them and vehicles to transport workers.

Currently, there are a couple of trucks at the Chicago depot and we're trying to build three houses in the area. Jamie is the only administrator, but we've got Emma and Bob available for general work. 

## Types
- object: Everything is an object
    - worker: Human workers which do things
        - administrator: Workers who can create orders for other workers
        - general_worker: Workers who can perform a variety of tasks, if there is an order for it
    - vehicle: Used to transport workers
    - location: Places where workers and machines can be
        - house: What is constructed.

## Action
drive

A vehicle drives from a location to another. Requires that the vehicle is at the starting location and that the two locations are connected. Example: truck1 drives from loc1 to house1.

### Available Predicates
No predicate has been defined yet

### Action Parameters
Well, first we need to know which vehicle is travelling.
```
- {v: vehicle} ; The vehicle travelling
```

Then, we need to know where it's travelling to and from. Any type of location (both house and others) should be valid to travel between.
```
- {from : location} ; The location travelling from
- {to : location} ; The location travelling to
```

### Action Preconditions
To be able to drive from "from" to "to" it's specified that:
    1: The truck has to be at the starting location.
    2: The two locations have to be connected.

For this we'll need two predicates:
 - "at" to define where something is. This should probably work for both vehicles and all workers, so let's define it as "Predicate_(name= at, predicate_parameters= {o:object, l:location}, description= true if object is at the location.)".
 - "connected" to define if two locations are connected. This would entail that we can travel between the locations with a vehicle "Predicate_(name= connected, predicate_parameters= {l1:location, l2:location}, description= true if two locations are connected.)"

Furthermore, we can assume that the two locations have to be different:
    3: The locations are different

Let's specify this in the PDDL-like format:
```
preconditions = "and", [
    Predicate_(name: at, predicate_parameters: {v:vehicle, from:location}, description: "The vehicle is at the starting location."),
    Predicate_(name: connected, predicate_parameters: {from:location, to:location}, description: "The two locations are connected by a road."),
    Predicate_(name: not, predicate_parameters: {to:location, from:location}, description: "The locations are different.")
]
```

### Action Effects
So, what happens when the action is performed?
 - The vehicle is no longer at "from".
 - The vehicle is now at "to".

This doesn't need any new predicates. 

Let's write this in PDDL-like format:
```
effects = {
    "and": [
        {
            "not": Predicate_(name="at", predicate_parameters={"v": "vehicle", "from": "location"},
                              description="The vehicle is no longer at the starting location")
        },
        Predicate_(name="at", predicate_parameters={"v": "vehicle", "to": "location"},
                   description="The vehicle is now at the destination location")
    ]
}
```

### New Predicates
We used several new predicates. Those have to be specified formally here. Remember that every predicate needs a distinct name, so not only the preconditions but also the predicate name in the precondition must have a distinct name.

The first predicate we created is "at" which shows where something is. To make it compatible for both vehicles and workers, we use the general object type.
```
Predicate(name=at, predicate_parameters={o: object, l: location}, description="true if the object o (a vehicle or a worker) is at the location l")
```

The next we added is the "connected" predicate which indicates that a road exists between two locations.
```
Predicate(name=connected, predicate_parameters={l1: location, l2: location}, description="true if a road exists between l1 and l2 allowing vehicle travel between them.")
``` 

## Error
There was an issue with or feedback for generating the specified action. Correct the following error and regenerate the action, using the exact same schema.

1: Are any necessary precondition checks forgotten?
    The action explicitly states that the vehicle has to be at the starting location and that the two locations have to be connected. Both of these are checked. Thereby: No. 

2: Are any non-necessary preconditions checked?
    The precondition schecked is needed, though connected should be used symmetrically (see below). Hence: No.

3: Are any necessary effects forgotten?
    The effects don't model the fuel usage of the car. This should be done. So: Yes.

4: Are any non-necessary effects included?
    The effects are correct. Therefore: No.

5: Are the used predicates unclear or can be improved?
    With the exception of the symmetrical use of "connected", which is detailed below, it's clear. So: No.

6: Should any predicate be used symmetrically and isn't?
    Since roads are undirected, we need to check if there is a road from ?from to ?to or vice versa. Not doing so creates brittle PDDL. As such: Yes.

You should take the following concrete steps:
    - Add a "has_fuel" predicate to check that the vehicle has fuel. This should be checked before moving and then emptied.
    - Make sure that both directions are checked for a road by replacing "Predicate_(name=connected, predicate_parameters={"from": "location", "to":"location"}, description="Locations are connected")" with "or": [
                        Predicate_(name="connected", predicate_parameters={"from": "location", "to": "location"},
                                   description="Locations are connected"),
                        Predicate_(name="connected", predicate_parameters={"to": "location", "from": "location"},
                                   description="Locations are connected the other way")
    - This would result in the following precondition:
        ```
        preconditions = {
            "and": [
                Predicate_(name="at", predicate_parameters={"v": "vehicle", "l": "location"},
                           description="The vehicle must be at the starting location"),
                {
                    "or": [
                        Predicate_(name="connected", predicate_parameters={"from": "location", "to": "location"},
                                   description="Locations are connected"),
                        Predicate_(name="connected", predicate_parameters={"to": "location", "from": "location"},
                                   description="Locations are connected the other way")
                    ]
                }
            ]
        }
        ``` 

Make sure to reply with all four parts of the action: parameters, preconditions, effects and new predicates. You should also add a "### Response" heading to respond to and consider this error.

## Action
drive

A vehicle drives from a location to another. Requires that the vehicle is at the starting location and that the two locations are connected. Example: truck1 drives from loc1 to house1.

### Available Predicates
No predicate has been defined yet

### Response
Tracking fuel would maybe be more realistic, but nothing in the domain description hints that this is needed for the current problem. As such, to simplify the domain we ignore this advice.

However, the suggestion to check "connected" both ways is great. Let's update this.

### Action Parameters
Okay, so we'll need the same parameters as last time, but we still need to clearly specify them again:
```
- {v: vehicle} ; The vehicle travelling
- {from : location} ; The location travelling from
- {to : location} ; The location travelling to
```

### Action Preconditions
Now, we'll make the change to check both directions of the "connected" predicate as to create more robust PDDL.
```
preconditions = {
    "and": [
        Predicate_(name="at", predicate_parameters={"v": "vehicle", "from": "location"},
                   description="The vehicle is at the starting location"),
        {
            "or": [
                Predicate_(name="connected", predicate_parameters={"from": "location", "to": "location"},
                           description="A road exists from 'from' to 'to'"),
                Predicate_(name="connected", predicate_parameters={"from": "location", "to": "location"},
                           description="A road exists from 'to' to 'from'")
            ]
        }
    ]
}

```

### Action Effects
These are the exact same as above, but they need to be reiterated:
```
effects = {
    "and": [
        {
            "not": Predicate_(
                name="at",
                predicate_parameters={"v": "vehicle", "from": "location"},
                description="v is no longer at from"
            )
        },
        Predicate_(
            name="at",
            predicate_parameters={"v": "vehicle", "to": "location"},
            description="v is now instead at to"
        )
    ]
}
```

### New Predicates
These are the same as before:
```
Predicate_(
    name="at",
    predicate_parameters={"o": "object", "l": "location"},
    description="True if the object o (a vehicle or a worker) is at the location l."
)

Predicate_(
    name="connected",
    predicate_parameters={"l1": "location", "l2": "location"},
    description="True if a road exists between l1 and l2 allowing vehicle travel between them."
)
``` 

# Task
## Domain 

